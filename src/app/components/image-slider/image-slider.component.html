@let _images = images();
@let _current = current();

<button class="image-slider__navigation-button prev" aria-label="Back to previous photo" (click)="prev()">
  <app-icon name="arrow-left" />
</button>

<div
  class="image-slider"
  role="region"
  aria-label="Image slider"
>
  <div class="image-slider__track" [style.transform]="translateX()">
    @for (img of _images; track img.sys.id; let idx = $index) {
      <div class="image-slider__slide" [class]="_current == idx ? 'active' : null">
        <img
          [src]="img.fields.file?.url"
          [alt]="img.fields.description || ''"
          [attr.loading]="_current === 0 ? null : 'lazy'"
          [attr.fetchpriority]="_current === 0 ? 'high' : null"
          decoding="async"
          [class]="setOrientation(img.fields.file?.details)"
        />
      </div>
    }
  </div>

  <div class="left-area" (click)="prev()"></div>
  <div class="right-area" (click)="next()"></div>
</div>

<button class="image-slider__navigation-button next" aria-label="See next photo" (click)="next()">
  <app-icon name="arrow-right" />
</button>

<div class="counter">
  <span>{{ _current + 1 }} / {{ _images.length }}</span>
</div>
